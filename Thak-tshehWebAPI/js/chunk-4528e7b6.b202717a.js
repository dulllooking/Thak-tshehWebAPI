(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4528e7b6"],{"159b":function(t,e,a){var c=a("da84"),n=a("fdbc"),i=a("785a"),o=a("17c2"),r=a("9112"),s=function(t){if(t&&t.forEach!==o)try{r(t,"forEach",o)}catch(e){t.forEach=o}};for(var l in n)n[l]&&s(c[l]&&c[l].prototype);s(i)},"17c2":function(t,e,a){"use strict";var c=a("b727").forEach,n=a("a640"),i=n("forEach");t.exports=i?[].forEach:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}},"38d4":function(t,e,a){"use strict";a.r(e);var c=a("7a23"),n={class:"container"},i={class:"row"},o={class:"col-10"},r={class:"categorySearchBar rounded-pill border border-secondary d-flex align-items-center"},s={class:"input-group px-4 py-13"},l={class:"btn btn-outline-secondary dropdown-toggle border-0 text-dark fw-light border-end border-dark bg-transparent py-0",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},d={class:"dropdown-menu text-dark fw-light p-0 border-0 rounded-3","aria-labelledby":"defaultDropdown"},p={class:"btn btn-outline-secondary dropdown-toggle border-0 text-dark fw-light border-end border-dark bg-transparent py-0",type:"submit","data-bs-toggle":"dropdown","aria-expanded":"false"},u={class:"dropdown-menu text-dark fw-light p-0 border-0 rounded-3","aria-labelledby":"defaultDropdown"},b={class:"btn btn-outline-secondary dropdown-toggle border-0 text-dark fw-light border-end border-secondary fs-6 bg-transparent",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},m={class:"dropdown-menu text-dark fw-light p-0 border-0 rounded-3","aria-labelledby":"defaultDropdown"},f=Object(c["i"])("div",{class:"col-2 d-flex justify-content-end"},[Object(c["i"])("button",{type:"submit",class:"btn btn-secondary rounded-pill text-white w-100 d-flex justify-content-center align-items-center"},[Object(c["i"])("span",{class:"material-icons me-2"},"search"),Object(c["k"])(" 立即搜尋 ")])],-1),g={class:"display-6 text-dark fw-bold mb-5"},h={class:"row row-cols-1 row-cols-md-3 g-4 list-unstyled"},y={class:"position-relative"},v={class:"card h-100 rounded-4"},j=["src","alt"],O={class:"card-body position-relative p-4"},w={class:"card-title mb-2 p-0 fs-4"},x={class:"d-flex align-items-center mb-2"},k=Object(c["j"])('<div class="d-flex align-items-center"><span class="material-icons text-primary me-1">star_rate</span><span class="material-icons text-primary me-1">star_rate</span><span class="material-icons text-primary me-1">star_rate</span><span class="material-icons text-primary me-1">star_rate</span><span class="material-icons text-primary">star_rate</span></div>',1),T={class:"text-gray m-0 ps-2"},D={class:"text-dark mb-4"},C={class:"pe-13"},P=Object(c["k"])("｜"),H={class:"px-13"},A=Object(c["k"])("｜"),S={class:"ps-13"},R={class:"card-footer border-0 bg-transparent p-0 d-flex justify-content-between align-items-end"},E={class:"text-dark fs-8 m-0"},I={class:"text-dark fs-4 m-0"},J={class:"position-absolute top-0 end-0 mt-3 me-3"},M=["onClick"],U=["onClick"],$=Object(c["j"])('<div class="d-flex justify-content-center fs-4 align-items-center py-12 text-dark"><nav aria-label="Page navigation example"><div class="d-flex align-items-center"><ul class="pagination m-0"><li class="page-item fs-4 rounded-pill"><a class="p-3 bg-transparent border-0" href="#" aria-label="Previous"><span class="material-icons" aria-hidden="true">chevron_left</span></a></li><li class="bg-secondary fs-4 text-white rounded-pill active"><a class="p-3 border-0 text-white" href="#">1</a></li><li class="page-item fs-4 rounded-pill"><a class="p-3 bg-transparent border-0" href="#">2</a></li><li class="page-item fs-4 rounded-pill"><a class="p-3 bg-transparent border-0" href="#">3</a></li><li class="page-item fs-4 rounded-pill"><a class="p-3 bg-transparent border-0" href="#">...</a></li><li class="page-item fs-4 rounded-pill"><a class="p-3 bg-transparent border-0" href="#">18</a></li><li class="page-item fs-4 rounded-pill"><a class="p-3 bg-transparent border-0" href="#">19</a></li><li class="page-item fs-4 rounded-pill"><a class="p-3 bg-transparent border-0" href="#">20</a></li><li class="page-item fs-4 rounded-pill"><a class="bg-transparent" href="#" aria-label="Next"><span class="material-icons" aria-hidden="true">chevron_right</span></a></li></ul></div></nav></div>',1);function N(t,e,a,N,_,L){var F=Object(c["E"])("loading"),q=Object(c["E"])("router-link");return Object(c["x"])(),Object(c["h"])("div",n,[Object(c["l"])(F,{active:_.isLoading,"is-full-page":t.fullPage},null,8,["active","is-full-page"]),Object(c["i"])("form",{class:"filterSearchBar py-5",onSubmit:e[19]||(e[19]=Object(c["O"])((function(){return L.searchNow&&L.searchNow.apply(L,arguments)}),["prevent"]))},[Object(c["i"])("div",i,[Object(c["i"])("div",o,[Object(c["i"])("div",r,[Object(c["i"])("div",s,[Object(c["i"])("button",l,Object(c["H"])(_.typeText),1),Object(c["i"])("ul",d,[Object(c["i"])("li",{class:"dropdown-item py-2 text-center rounded-3",onClick:e[0]||(e[0]=function(t){return L.selectType(-1,"所有主題")})}," 所有主題 "),Object(c["i"])("li",{class:"dropdown-item py-2 text-center rounded-3",onClick:e[1]||(e[1]=function(t){return L.selectType(0,"線上讀書會")})}," 線上讀書會 "),Object(c["i"])("li",{class:"dropdown-item py-2 text-center rounded-3",onClick:e[2]||(e[2]=function(t){return L.selectType(1,"實體讀書會")})}," 實體讀書會 "),Object(c["i"])("li",{class:"dropdown-item py-2 text-center rounded-3",onClick:e[3]||(e[3]=function(t){return L.selectType(2,"活動工作坊")})}," 活動工作坊 ")]),Object(c["i"])("button",p,Object(c["H"])(_.classifyText),1),Object(c["i"])("ul",u,[Object(c["i"])("li",{class:"dropdown-item py-2 text-center rounded-3",onClick:e[4]||(e[4]=function(t){return L.selectClassify(-1,"所有分類")})}," 所有分類 "),Object(c["i"])("li",{class:"dropdown-item py-2 text-center rounded-3",onClick:e[5]||(e[5]=function(t){return L.selectClassify(0,"商業理財")})}," 商業理財 "),Object(c["i"])("li",{class:"dropdown-item py-2 text-center rounded-3",onClick:e[6]||(e[6]=function(t){return L.selectClassify(1,"文學小說")})}," 文學小說 "),Object(c["i"])("li",{class:"dropdown-item py-2 text-center rounded-3",onClick:e[7]||(e[7]=function(t){return L.selectClassify(2,"人文史地")})}," 人文史地 "),Object(c["i"])("li",{class:"dropdown-item py-2 text-center rounded-3",onClick:e[8]||(e[8]=function(t){return L.selectClassify(3,"醫療保健")})}," 醫療保健 "),Object(c["i"])("li",{class:"dropdown-item py-2 text-center rounded-3",onClick:e[9]||(e[9]=function(t){return L.selectClassify(4,"生活風格")})}," 生活風格 "),Object(c["i"])("li",{class:"dropdown-item py-2 text-center rounded-3",onClick:e[10]||(e[10]=function(t){return L.selectClassify(5,"自然科學")})}," 自然科學 "),Object(c["i"])("li",{class:"dropdown-item py-2 text-center rounded-3",onClick:e[11]||(e[11]=function(t){return L.selectClassify(6,"電腦資訊")})}," 電腦資訊 ")]),Object(c["i"])("button",b,Object(c["H"])(_.areaText),1),Object(c["i"])("ul",m,[Object(c["i"])("li",{class:"dropdown-item py-2 text-center rounded-3",onClick:e[12]||(e[12]=function(t){return L.selectArea(-1,"所有地區")})}," 所有地區 "),Object(c["i"])("li",{class:"dropdown-item py-2 text-center rounded-3",onClick:e[13]||(e[13]=function(t){return L.selectArea(0,"北部")})}," 北部 "),Object(c["i"])("li",{class:"dropdown-item py-2 text-center rounded-3",onClick:e[14]||(e[14]=function(t){return L.selectArea(1,"中部")})}," 中部 "),Object(c["i"])("li",{class:"dropdown-item py-2 text-center rounded-3",onClick:e[15]||(e[15]=function(t){return L.selectArea(2,"南部")})}," 南部 "),Object(c["i"])("li",{class:"dropdown-item py-2 text-center rounded-3",onClick:e[16]||(e[16]=function(t){return L.selectArea(3,"東部")})}," 東部 "),Object(c["i"])("li",{class:"dropdown-item py-2 text-center rounded-3",onClick:e[17]||(e[17]=function(t){return L.selectArea(4,"離島")})}," 離島 ")]),Object(c["N"])(Object(c["i"])("input",{type:"text",class:"form-control form-control border-0 position-relative ps-3 bg-transparent","aria-label":"Text input with dropdown button",placeholder:"請輸入關鍵字搜尋（書籍名稱、活動名稱等）","onUpdate:modelValue":e[18]||(e[18]=function(t){return _.seachParams.query=t})},null,512),[[c["J"],_.seachParams.query]])])])]),f])],32),Object(c["i"])("h6",g,Object(c["H"])(_.virietyTitleText)+Object(c["H"])(_.ActivityTypeText),1),Object(c["i"])("ul",h,[(Object(c["x"])(!0),Object(c["h"])(c["a"],null,Object(c["C"])(_.newRecommendedData,(function(t){return Object(c["x"])(),Object(c["h"])("li",{class:"col",key:t.Id},[Object(c["i"])("div",y,[Object(c["i"])("div",v,[Object(c["l"])(q,{to:"/activity-content/".concat(t.Id)},{default:Object(c["M"])((function(){return[Object(c["i"])("img",{src:t.imgUrl,class:"card-img-top card-img rounded-top-4",alt:t.Image},null,8,j)]})),_:2},1032,["to"]),Object(c["i"])("div",O,[Object(c["i"])("h5",w,[Object(c["l"])(q,{to:"/activity-content/".concat(t.Id),class:"stretched-link text-dark"},{default:Object(c["M"])((function(){return[Object(c["k"])(Object(c["H"])(t.Name),1)]})),_:2},1032,["to"])]),Object(c["i"])("div",x,[k,Object(c["i"])("p",T,Object(c["H"])(t.EvaluateStars)+"/5 ("+Object(c["H"])(t.OpinionNumber)+"則評論) ",1)]),Object(c["i"])("p",D,[Object(c["i"])("span",C,Object(c["H"])(t.transStartDate),1),P,Object(c["i"])("span",H,Object(c["H"])(t.transStartTime)+" - "+Object(c["H"])(t.transEndTime),1),A,Object(c["i"])("span",S,Object(c["H"])(t.OrganizerName),1)]),Object(c["i"])("div",R,[Object(c["i"])("p",E,Object(c["H"])(t.ApplicantNumber)+"人參加 ｜ "+Object(c["H"])(t.CollectNumber)+"人收藏 ",1),Object(c["i"])("p",I,"NT$ "+Object(c["H"])(t.Price),1)])])]),Object(c["i"])("div",J,[Object(c["i"])("span",{class:Object(c["r"])(["material-icons text-white fs-1",{"d-none":t.UserCollected}]),type:"button",onClick:function(e){return L.changeCollect(t.Id)}},"bookmark_border",10,M),Object(c["i"])("span",{class:Object(c["r"])(["material-icons text-white fs-1",{"d-none":!t.UserCollected}]),type:"button",onClick:function(e){return L.changeCollect(t.Id)}},"bookmark",10,U)])])])})),128))]),$])}a("ac1f"),a("1276"),a("99af"),a("159b");var _={props:["Variety","Type","Split","Page"],data:function(){return{newRecommendedData:[],getMoreReommendParams:{},seachParams:{split:9,page:1,type:-1,classify:-1,area:-1,sorting:0,query:""},typeText:"主題類別",classifyText:"類別",areaText:"地區",virietyTitleText:"",ActivityTypeText:"",isLoading:!1}},created:function(){this.getMoreReommendParams=this.$route.params,console.log(this.getMoreReommendParams),this.getVarietyActivityData()},methods:{getVarietyActivityData:function(){var t=this;this.isLoading=!0,console.log("官方活動推薦！");var e=this.$route.params.variety;console.log(e);var a=this.getMoreReommendParams.type,c=this.getMoreReommendParams.split,n=this.getMoreReommendParams.page;"0"===a?this.ActivityTypeText="線上讀書會":"1"===a?this.ActivityTypeText="實體讀書會":"2"===a&&(this.ActivityTypeText="活動工作坊"),this.$apiHelper.get("api/users/profile-data").then((function(i){if(i.data.Status){console.log("登入");var o=i.data.JwtToken;localStorage.setItem("JwtToken",o),"0"===e?(t.virietyTitleText="即將截止報名的",t.$apiHelper.get("api/users/activity/final/type/".concat(a,"/").concat(c,"/").concat(n)).then((function(e){if(e.data.Status){console.log("4-4 即將截止報名資料");var a=e.data.JwtToken;localStorage.setItem("JwtToken",a);var c=e.data.Data.Activity;c.forEach((function(e){t.transDate(e);var a="".concat("https://thak-tsheh.rocket-coding.com/upload/card","/").concat(e.Image,"?2021");e.imgUrl=a})),t.newRecommendedData=c,console.log(t.newRecommendedData)}t.isLoading=!1}))):"1"===e?(t.virietyTitleText="最多人報名的",t.$apiHelper.get("api/users/activity/hot/type/".concat(a,"/").concat(c,"/").concat(n)).then((function(e){if(e.data.Status){console.log("4-5 最多人報名");var a=e.data.JwtToken;localStorage.setItem("JwtToken",a);var c=e.data.Data.Activity;c.forEach((function(e){t.transDate(e);var a="".concat("https://thak-tsheh.rocket-coding.com/upload/card","/").concat(e.Image,"?2021");e.imgUrl=a})),t.newRecommendedData=c,console.log(t.newRecommendedData)}t.isLoading=!1}))):"2"===e&&(t.virietyTitleText="本週新推出的",t.$apiHelper.get("api/users/activity/new/type/".concat(a,"/").concat(c,"/").concat(n)).then((function(e){if(e.data.Status){console.log("4-6 新推出資料");var a=e.data.JwtToken;localStorage.setItem("JwtToken",a);var c=e.data.Data.Activity;c.forEach((function(e){t.transDate(e);var a="".concat("https://thak-tsheh.rocket-coding.com/upload/card","/").concat(e.Image,"?2021");e.imgUrl=a})),t.newRecommendedData=c,console.log(t.newRecommendedData)}t.isLoading=!1})))}else console.log("沒有登入"),"0"===e?(console.log("hi"),t.$apiHelper.get("api/activity/final/type/".concat(a,"/").concat(c,"/").concat(n)).then((function(e){if(e.data.Status){console.log("4-1 即將截止報名資料");var a=e.data.Data.Activity;a.forEach((function(e){t.transDate(e);var a="".concat("https://thak-tsheh.rocket-coding.com/upload/card","/").concat(e.Image,"?2021");e.imgUrl=a})),t.newRecommendedData=a,console.log(t.newRecommendedData)}t.isLoading=!1}))):"1"===e?t.$apiHelper.get("api/activity/hot/type/".concat(a,"/").concat(c,"/").concat(n)).then((function(e){if(e.data.Status){console.log("4-2 最多人報名");var a=e.data.Data.Activity;a.forEach((function(e){t.transDate(e);var a="".concat("https://thak-tsheh.rocket-coding.com/upload/card","/").concat(e.Image,"?2021");e.imgUrl=a})),t.newRecommendedData=a,console.log(t.newRecommendedData)}t.isLoading=!1})):"2"===e&&t.$apiHelper.get("api/activity/new/type/".concat(a,"/").concat(c,"/").concat(n)).then((function(e){if(e.data.Status){console.log("4-3 新推出資料");var a=e.data.Data.Activity;a.forEach((function(e){t.transDate(e);var a="".concat("https://thak-tsheh.rocket-coding.com/upload/card","/").concat(e.Image,"?2021");e.imgUrl=a})),t.newRecommendedData=a,console.log(t.newRecommendedData)}t.isLoading=!1}))}))},changeCollect:function(t){var e=this;console.log("3-2 收藏/取消收藏活動 (JWT)"),console.log(t);var a={};a.ActivityId=t,console.log(a),this.$apiHelper.put("api/users/activity/collect",a).then((function(a){if(a.data.Status){console.log("3-2 收藏/取消收藏活動 (JWT)");var c=a.data.JwtToken;localStorage.setItem("JwtToken",c),e.newRecommendedData.forEach((function(e){e.Id===t&&(e.UserCollected=!e.UserCollected)}))}}))},selectType:function(t,e){console.log(t),this.seachParams.type=t,this.typeText=e,console.log(this.seachParams.type,this.typeText)},selectClassify:function(t,e){console.log(t),this.seachParams.classify=t,this.classifyText=e,console.log(this.seachParams.classify,this.classifyText)},selectArea:function(t,e){this.seachParams.area=t,this.areaText=e,console.log(this.seachParams.area,this.areaText)},searchNow:function(){console.log("從官方推薦夜搜尋東西前往搜尋結果頁！");var t=this.seachParams.split,e=this.seachParams.page,a=this.seachParams.type,c=this.seachParams.classify,n=this.seachParams.area,i=this.seachParams.sorting,o=encodeURI(this.seachParams.query);console.log(t,i,o),this.$router.push("/activities/search/".concat(t,"/").concat(e,"/").concat(a,"/").concat(c,"/").concat(n,"/").concat(i,"/").concat(o))},splitDate:function(t){var e=new Date(t);e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes();var a="".concat(e.getFullYear(),".").concat(e.getMonth()+1,".").concat(e.getDate()),c="".concat(e.getHours(),":").concat((e.getMinutes()<10?"0":"")+e.getMinutes());return{splitFinalDate:a,splitFinalTime:c}},transDate:function(t){var e=t.ActivityStartDate,a=t.ActivityEndDate,c=this.splitDate(e),n=this.splitDate(a);return t.transStartDate=c.splitFinalDate,t.transStartTime=c.splitFinalTime,t.transEndDate=n.splitFinalDate,t.transEndTime=n.splitFinalTime,t}}},L=a("6b0d"),F=a.n(L);const q=F()(_,[["render",N]]);e["default"]=q},a640:function(t,e,a){"use strict";var c=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&c((function(){a.call(null,e||function(){throw 1},1)}))}}}]);
//# sourceMappingURL=chunk-4528e7b6.b202717a.js.map