{"version":3,"sources":["webpack:///./src/views/users/ResetPassword.vue","webpack:///./src/views/users/ResetPassword.vue?22d4"],"names":["class","for","type","id","resetPassword","placeholder","user","Password","CheckPassword","data","mailReset","Guid","userTokenData","created","verifyLink","location","href","indexOf","aryGuid","split","console","log","i","length","this","Token","localStorage","getItem","mailGuid","$router","push","methods","$apiHelper","post","then","res","getJwtToken","JwtToken","setItem","__exports__","render"],"mappings":"0IAEOA,MAAM,uB,GACJA,MAAM,a,EACT,eAEK,MAFDA,MAAM,4CAA2C,cAErD,G,GAEKA,MAAM,8B,GACJA,MAAM,Y,GAEPA,MAAM,0D,GAGCA,MAAM,Q,EACT,eAIC,SAHCC,IAAI,mBACJD,MAAM,sCACL,OAAG,G,EAkBN,eAEC,QAFKA,MAAM,gCACT,yBAAqB,G,GAGrBA,MAAM,Q,EACT,eAIC,SAHCC,IAAI,qBACJD,MAAM,sCACL,QAAI,G,EAmBT,eAMS,UALPA,MAAM,mDACNE,KAAK,SACLC,GAAG,iBACJ,UAED,G,gDAnEZ,eAyEM,MAzEN,EAyEM,CAxEJ,eAuEM,MAvEN,EAuEM,CAtEJ,EAIA,eAiEM,MAjEN,EAiEM,CAhEJ,eA+DM,MA/DN,EA+DM,CA9DJ,eA6DM,MA7DN,EA6DM,CA1DJ,eAyDO,QAzDA,SAAM,8CAAU,EAAAC,eAAA,EAAAA,cAAA,qBAAa,e,CAClC,eAyBM,MAzBN,EAyBM,CAxBJ,E,eAKA,eAeE,SAdAF,KAAK,WACLF,MAAM,6FAUNG,GAAG,mBACHE,YAAY,G,qDACH,EAAAC,KAAKC,SAAQ,K,mBAAb,EAAAD,KAAKC,YAEhB,IAIF,eAqBM,MArBN,EAqBM,CApBJ,E,eAKA,eAcE,SAbAL,KAAK,WACLF,MAAM,wFASNG,GAAG,qBACHE,YAAY,G,qDACH,EAAAC,KAAKE,cAAa,K,mBAAlB,EAAAF,KAAKE,mBAIlB,G,sCAgBC,GACbC,KADa,WAEX,MAAO,CACLH,KAAM,CACJC,SAAU,GACVC,cAAe,IAEjBE,UAAW,CACTC,KAAM,GACNH,cAAe,GACfD,SAAU,IAEZK,cAAe,KAGnBC,QAfa,WAkBX,IAAMC,EAAaC,SAASC,KAG5B,IAAiC,IAA7BF,EAAWG,QAAQ,KAAa,CAGlC,IAAMC,EAAUJ,EAAWK,MAAM,KAGjCC,QAAQC,IAAIH,GAEZ,IAAK,IAAII,EAAI,EAAGA,GAAKJ,EAAQK,OAAS,EAAGD,IAEN,SAA7BJ,EAAQI,GAAGH,MAAM,KAAK,KACxBK,KAAKd,UAAUC,KAAOO,EAAQI,GAAGH,MAAM,KAAK,GAC5CC,QAAQC,IAAIG,KAAKd,YAKvB,IAAMe,EAAQC,aAAaC,QAAQ,YAC7BC,EAAWJ,KAAKd,UAAUC,KAChCS,QAAQC,IAAII,EAAOG,GACdH,GAA6B,IAApBG,EAASL,QACrBC,KAAKK,QAAQC,KAAK,WAGtBC,QAAS,CACP3B,cADO,WACU,WACfgB,QAAQC,IAAI,iBACZ,IAAMO,EAAWJ,KAAKd,UAAUC,KAChCS,QAAQC,IAAIO,GACY,IAApBA,EAASL,OAEXC,KAAKQ,WACFC,KAAK,iCAAkCT,KAAKlB,MAC5C4B,MAAK,SAACC,GACLf,QAAQC,IAAIc,GACZ,EAAKvB,cAAgBuB,EAAI1B,KACzB,IAAM2B,EAAcD,EAAI1B,KAAK4B,SAC7BjB,QAAQC,IAAI,EAAKT,cAAewB,GAChCV,aAAaY,QAAQ,WAAYF,OAGrCZ,KAAKd,UAAUH,SAAWiB,KAAKlB,KAAKC,SACpCiB,KAAKd,UAAUF,cAAgBgB,KAAKlB,KAAKE,cACzCY,QAAQC,IAAIG,KAAKd,WAEjBc,KAAKQ,WACFC,KAAK,gCAAiCT,KAAKd,WAC3CwB,MAAK,SAACC,GACLf,QAAQC,IAAIc,U,qBC/IxB,MAAMI,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d2095ec.29d8bb05.js","sourcesContent":["<template>\n  <!-- banner -->\n  <div class=\"loginBannerBG py-10\">\n    <div class=\"container\">\n      <h2 class=\"text-dark text-center mb-5 fw-light fs-1\">\n        - 重置密碼 -\n      </h2>\n      <!-- 重置密碼內容 -->\n      <div class=\"row justify-content-center\">\n        <div class=\"col-md-4\">\n          <div\n            class=\"border border-dark border-widths-2 rounded-6 px-6 py-7\"\n          >\n            <form @submit.prevent=\"resetPassword\">\n              <div class=\"mb-3\">\n                <label\n                  for=\"inputNewPassword\"\n                  class=\"text-dark fs-4 fw-normal me-3 mb-2\"\n                  >新密碼</label\n                >\n                <input\n                  type=\"password\"\n                  class=\"\n                    form-control\n                    rounded-pill\n                    position-relative\n                    ps-3\n                    border-0\n                    form-control-darkGray\n                    py-13\n                    mb-1\n                  \"\n                  id=\"inputNewPassword\"\n                  placeholder=\"\"\n                  v-model=\"user.Password\"\n                />\n                <span class=\"fs-7 fw-light text-dark mt-1\"\n                  >＊密碼必須為 8 個字元及至少一個大寫字母</span\n                >\n              </div>\n              <div class=\"mb-5\">\n                <label\n                  for=\"inputCheckPassword\"\n                  class=\"text-dark fs-4 fw-normal me-3 mb-2\"\n                  >確認密碼</label\n                >\n                <input\n                  type=\"password\"\n                  class=\"\n                    form-control\n                    rounded-pill\n                    position-relative\n                    ps-3\n                    border-0\n                    form-control-darkGray\n                    py-13\n                  \"\n                  id=\"inputCheckPassword\"\n                  placeholder=\"\"\n                  v-model=\"user.CheckPassword\"\n                />\n              </div>\n\n              <button\n                class=\"btn btn-dark rounded-pill w-100 text-white py-13\"\n                type=\"submit\"\n                id=\"button-addon2\"\n              >\n                確認送出\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      user: {\n        Password: '',\n        CheckPassword: ''\n      },\n      mailReset: {\n        Guid: '',\n        CheckPassword: '',\n        Password: ''\n      },\n      userTokenData: {}\n    }\n  },\n  created () {\n    // 取得 mailGuid 邏輯\n    // 先取得網址字串\n    const verifyLink = location.href\n    // console.log(verifyLink)\n    // 尋找網址列中是否有資料傳遞(QueryString)\n    if (verifyLink.indexOf('?') !== -1) {\n      // 在此直接將各自的參數資料切割放進ary中\n      // string verifyLink = @\"https://\" + urlHost + @\"/#auth-mail?guid=\" + mailGuid;\n      const aryGuid = verifyLink.split('?')\n      // 此時ary的內容為：\n      // ary[0] = 'urlHost'，ary[1] = 'guid= + mailGuid;'\n      console.log(aryGuid)\n      // 下迴圈去搜尋每個資料參數\n      for (let i = 0; i <= aryGuid.length - 1; i++) {\n        // 如果資料名稱為 guid 的話那就把他取出來\n        if (aryGuid[i].split('=')[0] === 'guid') {\n          this.mailReset.Guid = aryGuid[i].split('=')[1]\n          console.log(this.mailReset)\n        }\n      }\n    }\n\n    const Token = localStorage.getItem('JwtToken')\n    const mailGuid = this.mailReset.Guid\n    console.log(Token, mailGuid)\n    if (!Token && mailGuid.length === 0) {\n      this.$router.push('/login')\n    }\n  },\n  methods: {\n    resetPassword () {\n      console.log('resetPassword')\n      const mailGuid = this.mailReset.Guid\n      console.log(mailGuid)\n      if (mailGuid.length === 0) {\n        // POST請求\n        this.$apiHelper\n          .post('api/users/login-reset-password', this.user)\n          .then((res) => {\n            console.log(res)\n            this.userTokenData = res.data\n            const getJwtToken = res.data.JwtToken\n            console.log(this.userTokenData, getJwtToken)\n            localStorage.setItem('JwtToken', getJwtToken)\n          })\n      } else {\n        this.mailReset.Password = this.user.Password\n        this.mailReset.CheckPassword = this.user.CheckPassword\n        console.log(this.mailReset)\n        // POST請求\n        this.$apiHelper\n          .post('api/users/mail-reset-password', this.mailReset)\n          .then((res) => {\n            console.log(res)\n          })\n      }\n    }\n  }\n}\n</script>\n","import { render } from \"./ResetPassword.vue?vue&type=template&id=26714f97\"\nimport script from \"./ResetPassword.vue?vue&type=script&lang=js\"\nexport * from \"./ResetPassword.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/apple/Desktop/studyCircle_VueCLI/studycircle2/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}